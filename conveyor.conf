include "#!./gradlew -q printConveyorConfig"

conveyor.billing-email = "contact@devcraft.ovh"

app {
  display-name = VogonPoet
  fsname = ovh-devcraft-vogonpoet
  vcs-url = "https://github.com/arosov/VogonPoet"
  jvm.extract-native-libraries = true
  site.github.pages-branch = gh-pages
  site.github.oauth-token = ${env.OAUTH_TOKEN}
  
  # Include AppImage in the release
  site.inputs += ${gradle.build-dir}/appimage/output/VogonPoet-x86_64.AppImage -> ovh-devcraft-vogonpoet-${app.version}-x86_64.AppImage
  
  # Include Tux icon for AppImage button
  site.inputs += "composeApp/src/jvmMain/resources/icons/tux-icon.png" -> "tux-icon.png"
  
  # Use custom download page with AppImage
  site.inputs += "output/download.html" -> "download.html"
}

conveyor.compatibility-level = 21
